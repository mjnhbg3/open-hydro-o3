{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "System Alert",
  "type": "object",
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "severity": {
      "type": "string",
      "enum": ["info", "warning", "error", "critical"]
    },
    "category": {
      "type": "string",
      "enum": ["sensor", "actuator", "llm", "safety", "system"]
    },
    "message": {
      "type": "string",
      "maxLength": 500
    },
    "details": {
      "type": "object",
      "properties": {
        "sensor_values": {"type": "object"},
        "actuator_state": {"type": "object"},
        "error_code": {"type": "string"},
        "stack_trace": {"type": "string"}
      }
    },
    "acknowledged": {
      "type": "boolean",
      "default": false
    },
    "resolved": {
      "type": "boolean", 
      "default": false
    }
  },
  "required": ["timestamp", "severity", "category", "message"]
}